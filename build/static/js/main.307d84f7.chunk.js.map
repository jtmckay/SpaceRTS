{"version":3,"sources":["textures/StarSky_nx.jpg","textures/StarSky_ny.jpg","textures/StarSky_nz.jpg","textures/StarSky_px.jpg","textures/StarSky_py.jpg","textures/StarSky_pz.jpg","views/LandingPage/index.js","algorithms/gradualMeshMove.js","bjs/objectManager.js","bjs/mesh.js","components/tacticalOverlay/index.js","bjs/color.js","components/background/index.js","bjs/material.js","views/GamePage/index.js","bjs/camera.js","bjs/light.js","views/App/routes.js","views/App/index.js","serviceWorker.js","index.js"],"names":["module","exports","StyledLandingPage","styled","div","_templateObject","StyledWelcome","_templateObject2","StyledLink","_templateObject3","LandingPage","react_default","a","createElement","Link","to","React","Component","meshMoveIterator","arrayOfGradualMeshMoves","frameNumber","res","forEach","meshMoves","push","createObjectManager","objectIds","objectMap","add","id","mesh","console","log","remove","idsToRemove","splice","findIndex","dispose","removeAll","length","createMeshBuilder","scene","objectManager","createPlane","options","uuid","plane","BABYLON","CreatePlane","createLines","line","CreateLines","createSphere","oldColor","sphere","CreateSphere","position","material","actionManager","registerAction","OnPointerOverTrigger","event","emissiveColor","Blue","OnPointerOutTrigger","colors","Color4","createTactialNotches","meshBuilder","outterLimit","innerLimit","interval","size","distance","tracker","Math","ceil","Vector3","point","x","points","y","z","TacticalOverlay","this","props","babylon","createColor","_ref","_ref2","Object","slicedToArray","r","g","b","alpha","Color3","Background","materialBuilder","createStandardMaterial","StandardMaterial","diffusiveColor","createMaterialBuilder","skybox","Mesh","CreateBox","skyboxMaterial","backFaceCulling","reflectionTexture","CubeTexture","coordinatesMode","Texture","SKYBOX_MODE","disableLighting","diameterX","diameterY","camera","canvas","resizeHandler","StyledGamePage","GamePage_templateObject","StyledCanvas","GamePage_templateObject2","StyledOverlay","GamePage_templateObject3","StyledSettingsButton","button","_templateObject4","Settings","_templateObject5","GamePage","state","showSettings","settings","tacticalOverlay","nextFrames","callstack","getMoves","_this2","document","getElementById","engine","preserveDrawingBuffer","stencil","target","PI","inertia","lowerRadiusLimit","upperRadiusLimit","addEventListener","newRadius","radius","deltaY","createArcRotateCamera","attachControl","hemisphericLight","diffuse","createHemisphericLight","setState","objectSpread","createScene","runRenderLoop","meshFrames","meshFrame","_this2$state$babylon$","moves","apply","toConsumableArray","largestArray","max","map","consolidateGradualMeshMoves","render","resize","window","removeEventListener","_this3","onClick","background","routes","Switch","Route","path","component","App","BrowserRouter","basename","style","height","Boolean","location","hostname","match","ReactDOM","views_App","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.307d84f7.chunk.js","sourcesContent":["module.exports = \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAWIAAAEiCAIAAABMZk9BAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAIiSURBVHhe7dzBFoIgAEVB//+njcLaybNSD+jMqlyS3sSDTAAAAAAAAAAAPZrnefkEAAAAAAAAAAAAAAAAAAAAAMAv7OMCBDIBAAAAAAAAAAAAAAAA3/FODgAAwA2VyaD5INCiEQAAAAAAAAAAAMDhLFgEAABgX2aaAADAnZkTAQAAAAAAAABAn6ztAQAAAAAAAAAAAAAAAADevHcItJRGyAQAAAAAAAAAAAAAAAAAAAAwhLpPwsdyFACga25bgBazGyDQCCCQCSCQiQMZXCCQCQAAAAAAAAAAAAAAOJjF+0BLaYRMAC0aAQQyAQQyAQQyAQQyATtzUQEA0Cd3qgAAAABj8BwHCEomlAIIZAIIZAIAAAAAAAAAAAAAAAAAAC7Bq8NAIBMAAAAAAAAAAAAAAAAAAAAAAAAAAADfsrMrEMgEEMjErfn52cJ5AgQyAQQyAcAt+QMEApkAMqUAgpIJpQACpQCyWopqOQQAAAAAAAAAANdhXQwAAAAAAAAAAAAAAAAAAAAAAMA/7OYEBDIBBDIBAAAAAAAAAAAAo7IKEAAAAAAA+uCZPRDIBAAAAAAAAAAAAACss94WaCmNkIkTGGQG5vQ9x6vGhhpokgkgUwogkAkgeD6fUAqgTSYAAAAAAAAAAAAAAAAAAAAAuAL7aACBTACBTACrSiCq5TsAAACwI1NuIJAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGCbaXoAURoNAg+YAx8AAAAASUVORK5CYII=\"","module.exports = \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAWIAAAEiCAIAAABMZk9BAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAIiSURBVHhe7dzBFoIgAEVB//+njcLaybNSD+jMqlyS3sSDTAAAAAAAAAAAPZrnefkEAAAAAAAAAAAAAAAAAAAAAMAv7OMCBDIBAAAAAAAAAAAAAAAA3/FODgAAwA2VyaD5INCiEQAAAAAAAAAAAMDhLFgEAABgX2aaAADAnZkTAQAAAAAAAABAn6ztAQAAAAAAAAAAAAAAAADevHcItJRGyAQAAAAAAAAAAAAAAAAAAAAwhLpPwsdyFACga25bgBazGyDQCCCQCSCQiQMZXCCQCQAAAAAAAAAAAAAAOJjF+0BLaYRMAC0aAQQyAQQyAQQyAQQyATtzUQEA0Cd3qgAAAABj8BwHCEomlAIIZAIIZAIAAAAAAAAAAAAAAAAAAC7Bq8NAIBMAAAAAAAAAAAAAAAAAAAAAAAAAAADfsrMrEMgEEMjErfn52cJ5AgQyAQQyAcAt+QMEApkAMqUAgpIJpQACpQCyWopqOQQAAAAAAAAAANdhXQwAAAAAAAAAAAAAAAAAAAAAAMA/7OYEBDIBBDIBAAAAAAAAAAAAo7IKEAAAAAAA+uCZPRDIBAAAAAAAAAAAAACss94WaCmNkIkTGGQG5vQ9x6vGhhpokgkgUwogkAkgeD6fUAqgTSYAAAAAAAAAAAAAAAAAAAAAuAL7aACBTACBTACrSiCq5TsAAACwI1NuIJAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGCbaXoAURoNAg+YAx8AAAAASUVORK5CYII=\"","module.exports = \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAWIAAAEiCAIAAABMZk9BAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAIiSURBVHhe7dzBFoIgAEVB//+njcLaybNSD+jMqlyS3sSDTAAAAAAAAAAAPZrnefkEAAAAAAAAAAAAAAAAAAAAAMAv7OMCBDIBAAAAAAAAAAAAAAAA3/FODgAAwA2VyaD5INCiEQAAAAAAAAAAAMDhLFgEAABgX2aaAADAnZkTAQAAAAAAAABAn6ztAQAAAAAAAAAAAAAAAADevHcItJRGyAQAAAAAAAAAAAAAAAAAAAAwhLpPwsdyFACga25bgBazGyDQCCCQCSCQiQMZXCCQCQAAAAAAAAAAAAAAOJjF+0BLaYRMAC0aAQQyAQQyAQQyAQQyATtzUQEA0Cd3qgAAAABj8BwHCEomlAIIZAIIZAIAAAAAAAAAAAAAAAAAAC7Bq8NAIBMAAAAAAAAAAAAAAAAAAAAAAAAAAADfsrMrEMgEEMjErfn52cJ5AgQyAQQyAcAt+QMEApkAMqUAgpIJpQACpQCyWopqOQQAAAAAAAAAANdhXQwAAAAAAAAAAAAAAAAAAAAAAMA/7OYEBDIBBDIBAAAAAAAAAAAAo7IKEAAAAAAA+uCZPRDIBAAAAAAAAAAAAACss94WaCmNkIkTGGQG5vQ9x6vGhhpokgkgUwogkAkgeD6fUAqgTSYAAAAAAAAAAAAAAAAAAAAAuAL7aACBTACBTACrSiCq5TsAAACwI1NuIJAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGCbaXoAURoNAg+YAx8AAAAASUVORK5CYII=\"","module.exports = \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAWIAAAEiCAIAAABMZk9BAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAIiSURBVHhe7dzBFoIgAEVB//+njcLaybNSD+jMqlyS3sSDTAAAAAAAAAAAPZrnefkEAAAAAAAAAAAAAAAAAAAAAMAv7OMCBDIBAAAAAAAAAAAAAAAA3/FODgAAwA2VyaD5INCiEQAAAAAAAAAAAMDhLFgEAABgX2aaAADAnZkTAQAAAAAAAABAn6ztAQAAAAAAAAAAAAAAAADevHcItJRGyAQAAAAAAAAAAAAAAAAAAAAwhLpPwsdyFACga25bgBazGyDQCCCQCSCQiQMZXCCQCQAAAAAAAAAAAAAAOJjF+0BLaYRMAC0aAQQyAQQyAQQyAQQyATtzUQEA0Cd3qgAAAABj8BwHCEomlAIIZAIIZAIAAAAAAAAAAAAAAAAAAC7Bq8NAIBMAAAAAAAAAAAAAAAAAAAAAAAAAAADfsrMrEMgEEMjErfn52cJ5AgQyAQQyAcAt+QMEApkAMqUAgpIJpQACpQCyWopqOQQAAAAAAAAAANdhXQwAAAAAAAAAAAAAAAAAAAAAAMA/7OYEBDIBBDIBAAAAAAAAAAAAo7IKEAAAAAAA+uCZPRDIBAAAAAAAAAAAAACss94WaCmNkIkTGGQG5vQ9x6vGhhpokgkgUwogkAkgeD6fUAqgTSYAAAAAAAAAAAAAAAAAAAAAuAL7aACBTACBTACrSiCq5TsAAACwI1NuIJAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGCbaXoAURoNAg+YAx8AAAAASUVORK5CYII=\"","module.exports = \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAWIAAAEiCAIAAABMZk9BAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAIiSURBVHhe7dzBFoIgAEVB//+njcLaybNSD+jMqlyS3sSDTAAAAAAAAAAAPZrnefkEAAAAAAAAAAAAAAAAAAAAAMAv7OMCBDIBAAAAAAAAAAAAAAAA3/FODgAAwA2VyaD5INCiEQAAAAAAAAAAAMDhLFgEAABgX2aaAADAnZkTAQAAAAAAAABAn6ztAQAAAAAAAAAAAAAAAADevHcItJRGyAQAAAAAAAAAAAAAAAAAAAAwhLpPwsdyFACga25bgBazGyDQCCCQCSCQiQMZXCCQCQAAAAAAAAAAAAAAOJjF+0BLaYRMAC0aAQQyAQQyAQQyAQQyATtzUQEA0Cd3qgAAAABj8BwHCEomlAIIZAIIZAIAAAAAAAAAAAAAAAAAAC7Bq8NAIBMAAAAAAAAAAAAAAAAAAAAAAAAAAADfsrMrEMgEEMjErfn52cJ5AgQyAQQyAcAt+QMEApkAMqUAgpIJpQACpQCyWopqOQQAAAAAAAAAANdhXQwAAAAAAAAAAAAAAAAAAAAAAMA/7OYEBDIBBDIBAAAAAAAAAAAAo7IKEAAAAAAA+uCZPRDIBAAAAAAAAAAAAACss94WaCmNkIkTGGQG5vQ9x6vGhhpokgkgUwogkAkgeD6fUAqgTSYAAAAAAAAAAAAAAAAAAAAAuAL7aACBTACBTACrSiCq5TsAAACwI1NuIJAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGCbaXoAURoNAg+YAx8AAAAASUVORK5CYII=\"","module.exports = \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAWIAAAEiCAIAAABMZk9BAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAIiSURBVHhe7dzBFoIgAEVB//+njcLaybNSD+jMqlyS3sSDTAAAAAAAAAAAPZrnefkEAAAAAAAAAAAAAAAAAAAAAMAv7OMCBDIBAAAAAAAAAAAAAAAA3/FODgAAwA2VyaD5INCiEQAAAAAAAAAAAMDhLFgEAABgX2aaAADAnZkTAQAAAAAAAABAn6ztAQAAAAAAAAAAAAAAAADevHcItJRGyAQAAAAAAAAAAAAAAAAAAAAwhLpPwsdyFACga25bgBazGyDQCCCQCSCQiQMZXCCQCQAAAAAAAAAAAAAAOJjF+0BLaYRMAC0aAQQyAQQyAQQyAQQyATtzUQEA0Cd3qgAAAABj8BwHCEomlAIIZAIIZAIAAAAAAAAAAAAAAAAAAC7Bq8NAIBMAAAAAAAAAAAAAAAAAAAAAAAAAAADfsrMrEMgEEMjErfn52cJ5AgQyAQQyAcAt+QMEApkAMqUAgpIJpQACpQCyWopqOQQAAAAAAAAAANdhXQwAAAAAAAAAAAAAAAAAAAAAAMA/7OYEBDIBBDIBAAAAAAAAAAAAo7IKEAAAAAAA+uCZPRDIBAAAAAAAAAAAAACss94WaCmNkIkTGGQG5vQ9x6vGhhpokgkgUwogkAkgeD6fUAqgTSYAAAAAAAAAAAAAAAAAAAAAuAL7aACBTACBTACrSiCq5TsAAACwI1NuIJAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGCbaXoAURoNAg+YAx8AAAAASUVORK5CYII=\"","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst StyledLandingPage = styled.div`\r\n    height: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n`\r\n\r\nconst StyledWelcome = styled.div`\r\n    font-size: 2rem;\r\n`\r\n\r\nconst StyledLink = styled.div`\r\n    margin: 2rem;\r\n    text-align: center;\r\n`\r\n\r\nclass LandingPage extends React.Component {\r\n    render () {\r\n        return (\r\n            <StyledLandingPage>\r\n                <StyledWelcome>Welcome to Space RTS!</StyledWelcome>\r\n                <StyledLink>\r\n                    <Link to='game'>Let's Go!</Link>\r\n                </StyledLink>\r\n            </StyledLandingPage>\r\n        )\r\n    }\r\n}\r\n\r\nexport default LandingPage\r\n","export function getInterPosition (oldPosition, newPosition, percentage) {\r\n    return oldPosition + (newPosition - oldPosition) * percentage\r\n}\r\n\r\nexport function logMeshMove (mesh, newPosition, frames = 6) {\r\n    const res = []\r\n    let frame = 0\r\n    while (frame < frames) {\r\n        frame++\r\n        res.push({\r\n            mesh,\r\n            x: getInterPosition(mesh.position.x, newPosition.x, Math.log(frame, 2) / Math.log(frames, 2)),\r\n            y: getInterPosition(mesh.position.y, newPosition.y, Math.log(frame, 2) / Math.log(frames, 2)),\r\n            z: getInterPosition(mesh.position.z, newPosition.z, Math.log(frame, 2) / Math.log(frames, 2))\r\n        })\r\n    }\r\n    return res\r\n}\r\n\r\nexport function exponentialMeshMove (mesh, newPosition, frames = 6) {\r\n    const res = []\r\n    let frame = 0\r\n    while (frame < frames) {\r\n        frame++\r\n        res.push({\r\n            mesh,\r\n            x: getInterPosition(mesh.position.x, newPosition.x, Math.pow(frame, 2) / Math.pow(frames, 2)),\r\n            y: getInterPosition(mesh.position.y, newPosition.y, Math.pow(frame, 2) / Math.pow(frames, 2)),\r\n            z: getInterPosition(mesh.position.z, newPosition.z, Math.pow(frame, 2) / Math.pow(frames, 2))\r\n        })\r\n    }\r\n    return res\r\n}\r\n\r\nexport function cosMeshMove (mesh, newPosition, frames = 6) {\r\n    const res = []\r\n    let frame = 0\r\n    while (frame < frames) {\r\n        frame++\r\n        res.push({\r\n            mesh,\r\n            x: getInterPosition(mesh.position.x, newPosition.x, (-Math.cos(Math.PI * frame / frames) + 1) / 2),\r\n            y: getInterPosition(mesh.position.y, newPosition.y, (-Math.cos(Math.PI * frame / frames) + 1) / 2),\r\n            z: getInterPosition(mesh.position.z, newPosition.z, (-Math.cos(Math.PI * frame / frames) + 1) / 2),\r\n        })\r\n    }\r\n    return res\r\n}\r\n\r\nexport function linearMeshMove (mesh, newPosition, frames = 6) {\r\n    const res = []\r\n    let frame = 0\r\n    while (frame < frames) {\r\n        frame++\r\n        res.push({\r\n            mesh,\r\n            x: getInterPosition(mesh.position.x, newPosition.x, frame / frames),\r\n            y: getInterPosition(mesh.position.y, newPosition.y, frame / frames),\r\n            z: getInterPosition(mesh.position.z, newPosition.z, frame / frames)\r\n        })\r\n    }\r\n    return res\r\n}\r\n\r\nfunction meshMoveIterator (arrayOfGradualMeshMoves, frameNumber) {\r\n    const res = []\r\n    arrayOfGradualMeshMoves.forEach(meshMoves => {\r\n        if (meshMoves[frameNumber]) {\r\n            res.push(meshMoves[frameNumber])\r\n        }\r\n    })\r\n    return res\r\n}\r\n\r\nexport function consolidateGradualMeshMoves (arrayOfGradualMeshMoves) {\r\n    const res = []\r\n    const largestArray = Math.max(...arrayOfGradualMeshMoves.map(meshMoves => {\r\n        return meshMoves.length\r\n    }))\r\n    let frameNumber = 0\r\n    while (frameNumber < largestArray) {\r\n        res.push(meshMoveIterator(arrayOfGradualMeshMoves, frameNumber))\r\n        frameNumber++\r\n    }\r\n    return res\r\n}\r\n","export default function createObjectManager () {\r\n    const objectIds = []\r\n    const objectMap = {}\r\n\r\n    function add (id, mesh) {\r\n        if (!objectMap[id]) {\r\n            objectIds.push(id)\r\n            objectMap[id] = mesh\r\n            console.log('add', id)\r\n        } else {\r\n            console.log('error: id already exists in object manager')\r\n        }\r\n    }\r\n    \r\n    function remove (idsToRemove) {\r\n        idsToRemove.forEach(id => {\r\n            objectIds.splice(objectIds.findIndex(id), 1)\r\n            objectMap[id].dispose()\r\n            delete objectMap[id]\r\n        })\r\n    }\r\n\r\n    function removeAll () {\r\n        objectIds.forEach(id => {\r\n            objectMap[id].dispose()\r\n            delete objectMap[id]\r\n        })\r\n        objectIds.splice(0, objectIds.length)\r\n    }\r\n\r\n    return {\r\n        add,\r\n        remove,\r\n        removeAll\r\n    }\r\n}\r\n","import uuid from 'uuid/v4'\r\nimport * as BABYLON from 'babylonjs';\r\n\r\nexport default function createMeshBuilder (scene, objectManager) {\r\n    function createPlane(options: {\r\n        size: number,\r\n        position: BABYLON.Vector3,\r\n        rotation: BABYLON.Vector3,\r\n        material: BABYLON.Material,\r\n        alpha?: number\r\n    }): BABYLON.Mesh {\r\n        const id = uuid()\r\n        const plane = BABYLON.MeshBuilder.CreatePlane(id, options, scene)\r\n        objectManager.add(id, plane)\r\n        return plane\r\n    }\r\n    \r\n    function createLines(options: {\r\n        points: [BABYLON.Vector3],\r\n        colors: [BABYLON.Color4]\r\n    }): BABYLON.Mesh {\r\n        const id = uuid()\r\n        console.log('options', options)\r\n        const line = BABYLON.MeshBuilder.CreateLines(id, options, scene)\r\n        objectManager.add(id, line)\r\n        return line\r\n    }\r\n    \r\n    //BABYLON.Mesh.FRONTSIDE\r\n    function createSphere(options: {\r\n        diameterX: number,\r\n        diameterY: number,\r\n        position: BABYLON.Vector3,\r\n        material: BABYLON.Material\r\n    }) {\r\n        const id = uuid()\r\n        var sphere = BABYLON.MeshBuilder.CreateSphere(id, options, scene)\r\n    \r\n        if (options.position) {\r\n            sphere.position = options.position\r\n        }\r\n        if (options.material) {\r\n            sphere.material = options.material\r\n        } else {\r\n            sphere.material = new BABYLON.StandardMaterial('sphere', scene)\r\n            console.log('Missing color for sphere')\r\n        }\r\n    \r\n        sphere.actionManager = new BABYLON.ActionManager(scene)\r\n    \r\n        let oldColor\r\n        //ON MOUSE ENTER\r\n        sphere.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPointerOverTrigger, function (event) {\r\n            oldColor = sphere.material.emissiveColor\r\n            sphere.material.emissiveColor = BABYLON.Color3.Blue()\r\n        }));\r\n    \r\n        //ON MOUSE EXIT\r\n        sphere.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPointerOutTrigger, function (event) {\r\n            sphere.material.emissiveColor = oldColor\r\n        }));\r\n\r\n        objectManager.add(id, sphere)\r\n\r\n        return sphere\r\n    }\r\n\r\n    return {\r\n        createPlane,\r\n        createLines,\r\n        createSphere\r\n    }\r\n}\r\n","import React from 'react'\r\nimport BABYLON from 'babylonjs'\r\nimport createObjectManager from 'bjs/objectManager'\r\nimport createMeshBuilder from 'bjs/mesh'\r\n\r\nconst colors = [new BABYLON.Color4(0.5, .5, 1, 0), new BABYLON.Color4(0.5, .5, 1, .5)]\r\n\r\n// function combinePoints (pointA, pointB) {\r\n//     return new BABYLON.Vector3(pointA.x + pointB.x, pointA.y + pointB.y, pointA.z + pointB.z)\r\n// }\r\n\r\nfunction getPoints (distance) {\r\n    const top = new BABYLON.Vector3(0, distance, 0)\r\n    const bottom = new BABYLON.Vector3(0, -distance, 0)\r\n    const right = new BABYLON.Vector3(distance, 0, 0)\r\n    const left = new BABYLON.Vector3(-distance, 0, 0)\r\n    const back = new BABYLON.Vector3(0, 0, -distance)\r\n    const front = new BABYLON.Vector3(0, 0, distance)\r\n    return [top, bottom, right, left, back, front]\r\n}\r\n\r\n// function createTacticalLines (meshBuilder, outterLimit, innerLimit) {\r\n//     const outerPoints = getPoints(outterLimit)\r\n//     const innerPoints = getPoints(innerLimit)\r\n//     outerPoints.forEach((outerPoint, index) => {\r\n//         meshBuilder.createLines({ points: [innerPoints[index], outerPoint] })\r\n//     })\r\n// }\r\n\r\nfunction createTactialNotches (meshBuilder, outterLimit, innerLimit, interval, size) {\r\n    let tracker = 0\r\n    if (tracker < innerLimit) {\r\n        tracker = Math.ceil(innerLimit / interval) * interval\r\n    }\r\n    while (tracker < outterLimit) {\r\n        const startingPoints = getPoints(tracker)\r\n        startingPoints.forEach(point => {\r\n            if (point.x) {\r\n                meshBuilder.createLines({\r\n                    points: [\r\n                        new BABYLON.Vector3(point.x, 0, -size),\r\n                        new BABYLON.Vector3(point.x, 0, 0)\r\n                    ],\r\n                    colors\r\n                })\r\n                meshBuilder.createLines({\r\n                    points: [\r\n                        new BABYLON.Vector3(point.x, size, 0),\r\n                        new BABYLON.Vector3(point.x, 0, 0)\r\n                    ],\r\n                    colors\r\n                })\r\n            } else if (point.y) {\r\n                meshBuilder.createLines({\r\n                    points: [\r\n                        new BABYLON.Vector3(-size, point.y, 0),\r\n                        new BABYLON.Vector3(0, point.y, 0)\r\n                    ],\r\n                    colors\r\n                })\r\n                meshBuilder.createLines({\r\n                    points: [\r\n                        new BABYLON.Vector3(0, point.y, -size),\r\n                        new BABYLON.Vector3(0, point.y, 0)\r\n                    ],\r\n                    colors\r\n                })\r\n            } else if (point.z) {\r\n                meshBuilder.createLines({\r\n                    points: [\r\n                        new BABYLON.Vector3(-size, 0, point.z),\r\n                        new BABYLON.Vector3(0, 0, point.z)\r\n                    ],\r\n                    colors\r\n                })\r\n                meshBuilder.createLines({\r\n                    points: [\r\n                        new BABYLON.Vector3(0, size, point.z),\r\n                        new BABYLON.Vector3(0, 0, point.z)\r\n                    ],\r\n                    colors\r\n                })\r\n            }\r\n        })\r\n        tracker += interval\r\n    }\r\n}\r\n\r\nclass TacticalOverlay extends React.Component {\r\n    objectManager = createObjectManager()\r\n\r\n    componentDidMount () {\r\n        const { scene } = this.props.babylon\r\n        const meshBuilder = createMeshBuilder(scene, this.objectManager)\r\n        const outterLimit = 4000\r\n        const innerLimit = 20\r\n        createTactialNotches(meshBuilder, outterLimit, innerLimit, 500, 10)\r\n        createTactialNotches(meshBuilder, outterLimit, innerLimit, 50, 2)\r\n    }\r\n\r\n    componetWillUnmount () {\r\n        this.objectManager.removeAll()\r\n    }\r\n\r\n    render () {\r\n        return null\r\n    }\r\n}\r\n\r\nexport default TacticalOverlay\r\n","import BABYLON from 'babylonjs'\r\n\r\nexport default function createColor ([r, g, b, alpha]) {\r\n    if (alpha) {\r\n        return new BABYLON.Color4(r, g, b, alpha)\r\n    } else {\r\n        return new BABYLON.Color3(r, g, b)\r\n    }\r\n}\r\n","import React from 'react'\r\nimport BABYLON from 'babylonjs'\r\nimport createObjectManager from 'bjs/objectManager'\r\nimport createMeshBuilder from 'bjs/mesh'\r\nimport createMaterialBuilder from 'bjs/material'\r\nimport 'textures/StarSky_nx.jpg'\r\nimport 'textures/StarSky_ny.jpg'\r\nimport 'textures/StarSky_nz.jpg'\r\nimport 'textures/StarSky_px.jpg'\r\nimport 'textures/StarSky_py.jpg'\r\nimport 'textures/StarSky_pz.jpg'\r\n\r\nclass Background extends React.Component {\r\n    objectManager = createObjectManager()\r\n\r\n    componentDidMount () {\r\n        const { scene } = this.props.babylon\r\n        const meshBuilder = createMeshBuilder(scene, this.objectManager)\r\n        const materialBuilder = createMaterialBuilder(scene, this.objectManager)\r\n\r\n        // Skybox\r\n        var skybox = BABYLON.Mesh.CreateBox(\"skyBox\", 100.0, scene);\r\n        var skyboxMaterial = new BABYLON.StandardMaterial(\"skyBox\", scene);\r\n        skyboxMaterial.backFaceCulling = false;\r\n        skyboxMaterial.reflectionTexture = new BABYLON.CubeTexture(\"/textures/StarSky\", scene);\r\n        skyboxMaterial.reflectionTexture.coordinatesMode = BABYLON.Texture.SKYBOX_MODE;\r\n        skyboxMaterial.disableLighting = true;\r\n        skybox.material = skyboxMaterial;\r\n\r\n\r\n        meshBuilder.createSphere({\r\n            diameterX: 1,\r\n            diameterY: 1,\r\n            material: materialBuilder.createStandardMaterial({ emissiveColor: [1, 0, 0] })\r\n        })\r\n\r\n        meshBuilder.createSphere({\r\n            diameterX: 1,\r\n            diameterY: 1,\r\n            material: materialBuilder.createStandardMaterial({ emissiveColor: [1, 0, 0] }),\r\n            position: new BABYLON.Vector3(10, 10, 10)\r\n        })\r\n    }\r\n\r\n    componetWillUnmount () {\r\n        this.objectManager.removeAll()\r\n    }\r\n\r\n    render () {\r\n        return null\r\n    }\r\n}\r\n\r\nexport default Background\r\n","import uuid from 'uuid/v4'\r\nimport BABYLON from 'babylonjs'\r\nimport createColor from './color'\r\n\r\nexport default function createMaterialBuilder (scene, objectManager) {\r\n    function createStandardMaterial(options: {\r\n        diffuseColor: [number],\r\n        emissiveColor: [number]\r\n    }): BABYLON.Mesh {\r\n        const id = uuid()\r\n        const material = new BABYLON.StandardMaterial(id, scene);\r\n        if (options.diffusiveColor) {\r\n            const diffusiveColor = createColor(options.diffusiveColor)\r\n            material.diffusiveColor = diffusiveColor\r\n        }\r\n        if (options.emissiveColor) {\r\n            const emissiveColor = createColor(options.emissiveColor)\r\n            material.emissiveColor = emissiveColor\r\n        }\r\n        objectManager.add(id, material)\r\n        return material\r\n    }\r\n\r\n    return {\r\n        createStandardMaterial\r\n    }\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport * as BABYLON from 'babylonjs'\r\nimport { createArcRotateCamera } from 'bjs/camera'\r\nimport { createHemisphericLight } from 'bjs/light'\r\nimport { consolidateGradualMeshMoves } from 'algorithms/gradualMeshMove'\r\nimport createObjectManager from 'bjs/objectManager'\r\nimport TacticalOveraly from 'components/tacticalOverlay'\r\nimport Background from 'components/background'\r\n\r\nconst StyledGamePage = styled.div`\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: hidden;\r\n`\r\n\r\nconst StyledCanvas = styled.canvas`\r\n    width: 100%;\r\n    height: 100%;\r\n    touch-action: none;\r\n`\r\n\r\nconst StyledOverlay = styled.div`\r\n    top: 0;\r\n    right: 0;\r\n    position: absolute;\r\n    display: flex;\r\n    flex-direction: column;\r\n`\r\n\r\nconst StyledSettingsButton = styled.button`\r\n    background-color: lightgray;\r\n`\r\n\r\nconst Settings = styled.div`\r\n    width: 200px;\r\n    height: 200px;\r\n    background: gray;\r\n`\r\n\r\nlet camera\r\nlet canvas\r\nlet resizeHandler\r\n\r\nclass GamePage extends React.Component {\r\n    objectManager = createObjectManager()\r\n\r\n    state = {\r\n        showSettings: false,\r\n        settings: {\r\n            tacticalOverlay: true\r\n        },\r\n        babylon: {\r\n            scene: null,\r\n            nextFrames: [],\r\n            callstack: [],\r\n            objectManager: {}\r\n        }\r\n    }\r\n\r\n    move (getMoves) {\r\n        this.babylon.callstack.push(() => {\r\n            return getMoves()\r\n        })\r\n    }\r\n\r\n    componentDidMount () {\r\n        // Get the canvas DOM element\r\n        canvas = document.getElementById('renderCanvas')\r\n\r\n        // Load the 3D engine\r\n        var engine = new BABYLON.Engine(canvas, true, { preserveDrawingBuffer: true, stencil: true })\r\n\r\n        // CreateScene function that creates and return the scene\r\n        var createScene = () => {\r\n            // Create a basic BJS Scene object\r\n            var scene = new BABYLON.Scene(engine)\r\n            camera = createArcRotateCamera(scene)\r\n            camera.attachControl(canvas, false)\r\n            createHemisphericLight(scene)\r\n\r\n            this.setState({ babylon: { ...this.state.babylon, scene } })\r\n            return scene\r\n        }\r\n\r\n        // call the createScene function\r\n        createScene()\r\n\r\n        // run the render loop\r\n        engine.runRenderLoop(() => {\r\n            if (this.state.babylon.nextFrames.length) {\r\n                this.state.babylon.nextFrames.splice(0, 1).forEach(meshFrames => {\r\n                    meshFrames.forEach(meshFrame => {\r\n                        meshFrame.mesh.position.x = meshFrame.x\r\n                        meshFrame.mesh.position.y = meshFrame.y\r\n                        meshFrame.mesh.position.z = meshFrame.z\r\n                    })\r\n                })\r\n            }\r\n            if (!this.state.babylon.nextFrames.length && this.state.babylon.callstack.length) {\r\n                const moves = this.state.babylon.callstack.splice(0, 1)[0]()\r\n                if (moves && moves.length) {\r\n                    this.state.babylon.nextFrames.push(...consolidateGradualMeshMoves(moves))\r\n                }\r\n            }\r\n            this.state.babylon.scene.render()\r\n        })\r\n\r\n        // the canvas/window resize event handler\r\n        resizeHandler = function () {\r\n            engine.resize()\r\n        }\r\n        window.addEventListener('resize', resizeHandler)\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        window.removeEventListener('resize', resizeHandler)\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <StyledGamePage>\r\n                <StyledCanvas id=\"renderCanvas\"></StyledCanvas>\r\n                <StyledOverlay>\r\n                    <StyledSettingsButton onClick={() => this.setState({ showSettings: !this.state.showSettings })}>Settings</StyledSettingsButton>\r\n                    {this.state.showSettings &&\r\n                        <Settings>\r\n                            <button onClick={() => {\r\n                                camera.attachControl(canvas, true)\r\n                            }}>Attach VR</button>\r\n                        </Settings>\r\n                    }\r\n                    {this.state.babylon.scene &&\r\n                        <Background babylon={this.state.babylon} />\r\n                    }\r\n                    {this.state.babylon.scene && this.state.settings.tacticalOverlay &&\r\n                        <TacticalOveraly babylon={this.state.babylon} />\r\n                    }\r\n                </StyledOverlay>\r\n            </StyledGamePage>\r\n        )\r\n    }\r\n}\r\n\r\nexport default GamePage\r\n","import * as BABYLON from 'babylonjs'\r\n\r\nfunction createArcRotateCamera (scene: BABYLON.Scene, target: BABYLON.Vector3) {\r\n    let camera = new BABYLON.ArcRotateCamera(\"ArcRotateCamera\", -Math.PI/2, Math.PI/2, 100, target, scene)\r\n    camera.inertia = 0\r\n    camera.lowerRadiusLimit = 10\r\n    camera.upperRadiusLimit = 5000\r\n\r\n    document.addEventListener ('mousewheel', function (event) {\r\n        let newRadius = camera.radius + event.deltaY / 5\r\n        if (camera.lowerRadiusLimit <= newRadius && camera.upperRadiusLimit >= newRadius) {\r\n            camera.radius = newRadius\r\n        }\r\n    })\r\n\r\n    return camera\r\n}\r\n\r\nfunction createUniversalCamera (scene: BABYLON.Scene) {\r\n    let camera = new BABYLON.UniversalCamera(\"UniversalCamera\", new BABYLON.Vector3(0, 0, 0), scene);\r\n    return camera\r\n}\r\n\r\nfunction createWebVRFreeCamera (scene: BABYLON.Scene) {\r\n    let camera = new BABYLON.WebVRFreeCamera(\"WVR\", new BABYLON.Vector3(0, 0, 0), scene);\r\n    return camera\r\n}\r\n\r\nfunction createVRFreeCamera (scene: BABYLON.Scene) {\r\n    let camera = new BABYLON.VRDeviceOrientationFreeCamera(\"VRFreeCamera\", new BABYLON.Vector3(0, 0, 0), scene)\r\n    return camera\r\n}\r\n\r\nexport {\r\n    createArcRotateCamera,\r\n    createUniversalCamera,\r\n    createWebVRFreeCamera,\r\n    createVRFreeCamera\r\n}\r\n","import * as BABYLON from 'babylonjs'\r\n\r\nfunction createHemisphericLight (scene: BABYLON.Scene) {\r\n    let hemisphericLight = new BABYLON.HemisphericLight(\"HemiLight\", new BABYLON.Vector3(0, 1, 0), scene)\r\n    hemisphericLight.diffuse = new BABYLON.Color3(.5, .5, .5)\r\n    return hemisphericLight\r\n}\r\n\r\nfunction createOmniLight (scene: BABYLON.Scene, camera) {\r\n    let light = new BABYLON.PointLight(\"Omni\", camera.position, scene)\r\n    light.diffuse = new BABYLON.Color3(.5, .5, .5)\r\n    light.specular = new BABYLON.Color3(1, 1, 1)\r\n    return light\r\n}\r\n\r\nexport { createHemisphericLight, createOmniLight }\r\n","import React from 'react'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport LandingPage from 'views/LandingPage'\r\nimport GamePage from 'views/GamePage'\r\n\r\nexport default (\r\n    <Switch>\r\n        <Route path='/game' component={GamePage} />\r\n        <Route path='/' component={LandingPage} />\r\n    </Switch>\r\n)\r\n","import React from 'react'\r\nimport { BrowserRouter } from 'react-router-dom'\r\n// import styled from 'styled-components'\r\n// import Header from 'components/Header'\r\nimport routes from './routes'\r\n\r\nconst App = () => {\r\n    return (\r\n        <BrowserRouter basename='/SpaceRTS'>\r\n            <div style={{ height: '100%'}}>\r\n                {routes}\r\n            </div>\r\n            {/* <div>\r\n                <Footer />\r\n            </div> */}\r\n        </BrowserRouter>\r\n    )\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service ' +\n                        'worker. To learn more, visit http://bit.ly/CRA-PWA'\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl, config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                'New content is available and will be used when all ' +\n                                'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log('Content is cached for offline use.');\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch(error => {\n            console.error('Error during service worker registration:', error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl)\n        .then(response => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get('content-type');\n            if (\n                response.status === 404 ||\n                (contentType != null && contentType.indexOf('javascript') === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then(registration => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log(\n                'No internet connection found. App is running in offline mode.'\n            );\n        });\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready.then(registration => {\n            registration.unregister();\n        });\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from 'views/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}