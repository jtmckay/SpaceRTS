(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(A,e,n){A.exports=n(51)},35:function(A,e,n){},44:function(A,e){A.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAWIAAAEiCAIAAABMZk9BAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAIiSURBVHhe7dzBFoIgAEVB//+njcLaybNSD+jMqlyS3sSDTAAAAAAAAAAAPZrnefkEAAAAAAAAAAAAAAAAAAAAAMAv7OMCBDIBAAAAAAAAAAAAAAAA3/FODgAAwA2VyaD5INCiEQAAAAAAAAAAAMDhLFgEAABgX2aaAADAnZkTAQAAAAAAAABAn6ztAQAAAAAAAAAAAAAAAADevHcItJRGyAQAAAAAAAAAAAAAAAAAAAAwhLpPwsdyFACga25bgBazGyDQCCCQCSCQiQMZXCCQCQAAAAAAAAAAAAAAOJjF+0BLaYRMAC0aAQQyAQQyAQQyAQQyATtzUQEA0Cd3qgAAAABj8BwHCEomlAIIZAIIZAIAAAAAAAAAAAAAAAAAAC7Bq8NAIBMAAAAAAAAAAAAAAAAAAAAAAAAAAADfsrMrEMgEEMjErfn52cJ5AgQyAQQyAcAt+QMEApkAMqUAgpIJpQACpQCyWopqOQQAAAAAAAAAANdhXQwAAAAAAAAAAAAAAAAAAAAAAMA/7OYEBDIBBDIBAAAAAAAAAAAAo7IKEAAAAAAA+uCZPRDIBAAAAAAAAAAAAACss94WaCmNkIkTGGQG5vQ9x6vGhhpokgkgUwogkAkgeD6fUAqgTSYAAAAAAAAAAAAAAAAAAAAAuAL7aACBTACBTACrSiCq5TsAAACwI1NuIJAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGCbaXoAURoNAg+YAx8AAAAASUVORK5CYII="},45:function(A,e){A.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAWIAAAEiCAIAAABMZk9BAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAIiSURBVHhe7dzBFoIgAEVB//+njcLaybNSD+jMqlyS3sSDTAAAAAAAAAAAPZrnefkEAAAAAAAAAAAAAAAAAAAAAMAv7OMCBDIBAAAAAAAAAAAAAAAA3/FODgAAwA2VyaD5INCiEQAAAAAAAAAAAMDhLFgEAABgX2aaAADAnZkTAQAAAAAAAABAn6ztAQAAAAAAAAAAAAAAAADevHcItJRGyAQAAAAAAAAAAAAAAAAAAAAwhLpPwsdyFACga25bgBazGyDQCCCQCSCQiQMZXCCQCQAAAAAAAAAAAAAAOJjF+0BLaYRMAC0aAQQyAQQyAQQyAQQyATtzUQEA0Cd3qgAAAABj8BwHCEomlAIIZAIIZAIAAAAAAAAAAAAAAAAAAC7Bq8NAIBMAAAAAAAAAAAAAAAAAAAAAAAAAAADfsrMrEMgEEMjErfn52cJ5AgQyAQQyAcAt+QMEApkAMqUAgpIJpQACpQCyWopqOQQAAAAAAAAAANdhXQwAAAAAAAAAAAAAAAAAAAAAAMA/7OYEBDIBBDIBAAAAAAAAAAAAo7IKEAAAAAAA+uCZPRDIBAAAAAAAAAAAAACss94WaCmNkIkTGGQG5vQ9x6vGhhpokgkgUwogkAkgeD6fUAqgTSYAAAAAAAAAAAAAAAAAAAAAuAL7aACBTACBTACrSiCq5TsAAACwI1NuIJAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGCbaXoAURoNAg+YAx8AAAAASUVORK5CYII="},46:function(A,e){A.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAWIAAAEiCAIAAABMZk9BAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAIiSURBVHhe7dzBFoIgAEVB//+njcLaybNSD+jMqlyS3sSDTAAAAAAAAAAAPZrnefkEAAAAAAAAAAAAAAAAAAAAAMAv7OMCBDIBAAAAAAAAAAAAAAAA3/FODgAAwA2VyaD5INCiEQAAAAAAAAAAAMDhLFgEAABgX2aaAADAnZkTAQAAAAAAAABAn6ztAQAAAAAAAAAAAAAAAADevHcItJRGyAQAAAAAAAAAAAAAAAAAAAAwhLpPwsdyFACga25bgBazGyDQCCCQCSCQiQMZXCCQCQAAAAAAAAAAAAAAOJjF+0BLaYRMAC0aAQQyAQQyAQQyAQQyATtzUQEA0Cd3qgAAAABj8BwHCEomlAIIZAIIZAIAAAAAAAAAAAAAAAAAAC7Bq8NAIBMAAAAAAAAAAAAAAAAAAAAAAAAAAADfsrMrEMgEEMjErfn52cJ5AgQyAQQyAcAt+QMEApkAMqUAgpIJpQACpQCyWopqOQQAAAAAAAAAANdhXQwAAAAAAAAAAAAAAAAAAAAAAMA/7OYEBDIBBDIBAAAAAAAAAAAAo7IKEAAAAAAA+uCZPRDIBAAAAAAAAAAAAACss94WaCmNkIkTGGQG5vQ9x6vGhhpokgkgUwogkAkgeD6fUAqgTSYAAAAAAAAAAAAAAAAAAAAAuAL7aACBTACBTACrSiCq5TsAAACwI1NuIJAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGCbaXoAURoNAg+YAx8AAAAASUVORK5CYII="},47:function(A,e){A.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAWIAAAEiCAIAAABMZk9BAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAIiSURBVHhe7dzBFoIgAEVB//+njcLaybNSD+jMqlyS3sSDTAAAAAAAAAAAPZrnefkEAAAAAAAAAAAAAAAAAAAAAMAv7OMCBDIBAAAAAAAAAAAAAAAA3/FODgAAwA2VyaD5INCiEQAAAAAAAAAAAMDhLFgEAABgX2aaAADAnZkTAQAAAAAAAABAn6ztAQAAAAAAAAAAAAAAAADevHcItJRGyAQAAAAAAAAAAAAAAAAAAAAwhLpPwsdyFACga25bgBazGyDQCCCQCSCQiQMZXCCQCQAAAAAAAAAAAAAAOJjF+0BLaYRMAC0aAQQyAQQyAQQyAQQyATtzUQEA0Cd3qgAAAABj8BwHCEomlAIIZAIIZAIAAAAAAAAAAAAAAAAAAC7Bq8NAIBMAAAAAAAAAAAAAAAAAAAAAAAAAAADfsrMrEMgEEMjErfn52cJ5AgQyAQQyAcAt+QMEApkAMqUAgpIJpQACpQCyWopqOQQAAAAAAAAAANdhXQwAAAAAAAAAAAAAAAAAAAAAAMA/7OYEBDIBBDIBAAAAAAAAAAAAo7IKEAAAAAAA+uCZPRDIBAAAAAAAAAAAAACss94WaCmNkIkTGGQG5vQ9x6vGhhpokgkgUwogkAkgeD6fUAqgTSYAAAAAAAAAAAAAAAAAAAAAuAL7aACBTACBTACrSiCq5TsAAACwI1NuIJAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGCbaXoAURoNAg+YAx8AAAAASUVORK5CYII="},48:function(A,e){A.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAWIAAAEiCAIAAABMZk9BAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAIiSURBVHhe7dzBFoIgAEVB//+njcLaybNSD+jMqlyS3sSDTAAAAAAAAAAAPZrnefkEAAAAAAAAAAAAAAAAAAAAAMAv7OMCBDIBAAAAAAAAAAAAAAAA3/FODgAAwA2VyaD5INCiEQAAAAAAAAAAAMDhLFgEAABgX2aaAADAnZkTAQAAAAAAAABAn6ztAQAAAAAAAAAAAAAAAADevHcItJRGyAQAAAAAAAAAAAAAAAAAAAAwhLpPwsdyFACga25bgBazGyDQCCCQCSCQiQMZXCCQCQAAAAAAAAAAAAAAOJjF+0BLaYRMAC0aAQQyAQQyAQQyAQQyATtzUQEA0Cd3qgAAAABj8BwHCEomlAIIZAIIZAIAAAAAAAAAAAAAAAAAAC7Bq8NAIBMAAAAAAAAAAAAAAAAAAAAAAAAAAADfsrMrEMgEEMjErfn52cJ5AgQyAQQyAcAt+QMEApkAMqUAgpIJpQACpQCyWopqOQQAAAAAAAAAANdhXQwAAAAAAAAAAAAAAAAAAAAAAMA/7OYEBDIBBDIBAAAAAAAAAAAAo7IKEAAAAAAA+uCZPRDIBAAAAAAAAAAAAACss94WaCmNkIkTGGQG5vQ9x6vGhhpokgkgUwogkAkgeD6fUAqgTSYAAAAAAAAAAAAAAAAAAAAAuAL7aACBTACBTACrSiCq5TsAAACwI1NuIJAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGCbaXoAURoNAg+YAx8AAAAASUVORK5CYII="},49:function(A,e){A.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAWIAAAEiCAIAAABMZk9BAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAIiSURBVHhe7dzBFoIgAEVB//+njcLaybNSD+jMqlyS3sSDTAAAAAAAAAAAPZrnefkEAAAAAAAAAAAAAAAAAAAAAMAv7OMCBDIBAAAAAAAAAAAAAAAA3/FODgAAwA2VyaD5INCiEQAAAAAAAAAAAMDhLFgEAABgX2aaAADAnZkTAQAAAAAAAABAn6ztAQAAAAAAAAAAAAAAAADevHcItJRGyAQAAAAAAAAAAAAAAAAAAAAwhLpPwsdyFACga25bgBazGyDQCCCQCSCQiQMZXCCQCQAAAAAAAAAAAAAAOJjF+0BLaYRMAC0aAQQyAQQyAQQyAQQyATtzUQEA0Cd3qgAAAABj8BwHCEomlAIIZAIIZAIAAAAAAAAAAAAAAAAAAC7Bq8NAIBMAAAAAAAAAAAAAAAAAAAAAAAAAAADfsrMrEMgEEMjErfn52cJ5AgQyAQQyAcAt+QMEApkAMqUAgpIJpQACpQCyWopqOQQAAAAAAAAAANdhXQwAAAAAAAAAAAAAAAAAAAAAAMA/7OYEBDIBBDIBAAAAAAAAAAAAo7IKEAAAAAAA+uCZPRDIBAAAAAAAAAAAAACss94WaCmNkIkTGGQG5vQ9x6vGhhpokgkgUwogkAkgeD6fUAqgTSYAAAAAAAAAAAAAAAAAAAAAuAL7aACBTACBTACrSiCq5TsAAACwI1NuIJAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGCbaXoAURoNAg+YAx8AAAAASUVORK5CYII="},51:function(A,e,n){"use strict";n.r(e);var t=n(0),a=n.n(t),r=n(14),o=n.n(r),i=(n(35),n(53)),c=n(55),s=n(54),l=n(8),u=n(9),C=n(11),Q=n(10),g=n(12),B=n(6),h=n(7),I=n(52);function d(){var A=Object(B.a)(["\n    margin: 2rem;\n    text-align: center;\n"]);return d=function(){return A},A}function y(){var A=Object(B.a)(["\n    font-size: 2rem;\n"]);return y=function(){return A},A}function f(){var A=Object(B.a)(["\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]);return f=function(){return A},A}var p=h.a.div(f()),v=h.a.div(y()),E=h.a.div(d()),w=function(A){function e(){return Object(l.a)(this,e),Object(C.a)(this,Object(Q.a)(e).apply(this,arguments))}return Object(g.a)(e,A),Object(u.a)(e,[{key:"render",value:function(){return a.a.createElement(p,null,a.a.createElement(v,null,"Welcome to Space RTS!"),a.a.createElement(E,null,a.a.createElement(I.a,{to:"game"},"Let's Go!")))}}]),e}(a.a.Component),M=n(17),m=n(28),b=n(1),D=n.n(b);function k(A,e){var n=[];return A.forEach(function(A){A[e]&&n.push(A[e])}),n}function j(){var A=[],e={};return{add:function(n,t){e[n]?console.log("error: id already exists in object manager"):(A.push(n),e[n]=t,console.log("add",n))},remove:function(n){n.forEach(function(n){A.splice(A.findIndex(n),1),e[n].dispose(),delete e[n]})},removeAll:function(){A.forEach(function(A){e[A].dispose(),delete e[A]}),A.splice(0,A.length)}}}var S=n(13),O=n.n(S);function U(A,e){return{createPlane:function(n){var t=O()(),a=b.MeshBuilder.CreatePlane(t,n,A);return e.add(t,a),a},createLines:function(n){var t=O()();console.log("options",n);var a=b.MeshBuilder.CreateLines(t,n,A);return e.add(t,a),a},createSphere:function(n){var t,a=O()(),r=b.MeshBuilder.CreateSphere(a,n,A);return n.position&&(r.position=n.position),n.material?r.material=n.material:(r.material=new b.StandardMaterial("sphere",A),console.log("Missing color for sphere")),r.actionManager=new b.ActionManager(A),r.actionManager.registerAction(new b.ExecuteCodeAction(b.ActionManager.OnPointerOverTrigger,function(A){t=r.material.emissiveColor,r.material.emissiveColor=b.Color3.Blue()})),r.actionManager.registerAction(new b.ExecuteCodeAction(b.ActionManager.OnPointerOutTrigger,function(A){r.material.emissiveColor=t})),e.add(a,r),r}}}var R=[new D.a.Color4(.5,.5,1,0),new D.a.Color4(.5,.5,1,.5)];function x(A,e,n,t,a){var r,o=0;for(o<n&&(o=Math.ceil(n/t)*t);o<e;){(r=o,[new D.a.Vector3(0,r,0),new D.a.Vector3(0,-r,0),new D.a.Vector3(r,0,0),new D.a.Vector3(-r,0,0),new D.a.Vector3(0,0,-r),new D.a.Vector3(0,0,r)]).forEach(function(e){e.x?(A.createLines({points:[new D.a.Vector3(e.x,0,-a),new D.a.Vector3(e.x,0,0)],colors:R}),A.createLines({points:[new D.a.Vector3(e.x,a,0),new D.a.Vector3(e.x,0,0)],colors:R})):e.y?(A.createLines({points:[new D.a.Vector3(-a,e.y,0),new D.a.Vector3(0,e.y,0)],colors:R}),A.createLines({points:[new D.a.Vector3(0,e.y,-a),new D.a.Vector3(0,e.y,0)],colors:R})):e.z&&(A.createLines({points:[new D.a.Vector3(-a,0,e.z),new D.a.Vector3(0,0,e.z)],colors:R}),A.createLines({points:[new D.a.Vector3(0,a,e.z),new D.a.Vector3(0,0,e.z)],colors:R}))}),o+=t}}var T=function(A){function e(){var A,n;Object(l.a)(this,e);for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(n=Object(C.a)(this,(A=Object(Q.a)(e)).call.apply(A,[this].concat(a)))).objectManager=j(),n}return Object(g.a)(e,A),Object(u.a)(e,[{key:"componentDidMount",value:function(){var A=U(this.props.babylon.scene,this.objectManager);x(A,4e3,20,500,10),x(A,4e3,20,50,2)}},{key:"componetWillUnmount",value:function(){this.objectManager.removeAll()}},{key:"render",value:function(){return null}}]),e}(a.a.Component),G=n(27);function N(A){var e=Object(G.a)(A,4),n=e[0],t=e[1],a=e[2],r=e[3];return r?new D.a.Color4(n,t,a,r):new D.a.Color3(n,t,a)}n(44),n(45),n(46),n(47),n(48),n(49);var V=function(A){function e(){var A,n;Object(l.a)(this,e);for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(n=Object(C.a)(this,(A=Object(Q.a)(e)).call.apply(A,[this].concat(a)))).objectManager=j(),n}return Object(g.a)(e,A),Object(u.a)(e,[{key:"componentDidMount",value:function(){var A=this.props.babylon.scene,e=U(A,this.objectManager),n=function(A,e){return{createStandardMaterial:function(n){var t=O()(),a=new D.a.StandardMaterial(t,A);if(n.diffusiveColor){var r=N(n.diffusiveColor);a.diffusiveColor=r}if(n.emissiveColor){var o=N(n.emissiveColor);a.emissiveColor=o}return e.add(t,a),a}}}(A,this.objectManager),t=D.a.Mesh.CreateBox("skyBox",100,A),a=new D.a.StandardMaterial("skyBox",A);a.backFaceCulling=!1,a.reflectionTexture=new D.a.CubeTexture("/textures/StarSky",A),a.reflectionTexture.coordinatesMode=D.a.Texture.SKYBOX_MODE,a.disableLighting=!0,t.material=a,e.createSphere({diameterX:1,diameterY:1,material:n.createStandardMaterial({emissiveColor:[1,0,0]})}),e.createSphere({diameterX:1,diameterY:1,material:n.createStandardMaterial({emissiveColor:[1,0,0]}),position:new D.a.Vector3(10,10,10)})}},{key:"componetWillUnmount",value:function(){this.objectManager.removeAll()}},{key:"render",value:function(){return null}}]),e}(a.a.Component);function L(){var A=Object(B.a)(["\n    width: 200px;\n    height: 200px;\n    background: gray;\n"]);return L=function(){return A},A}function q(){var A=Object(B.a)(["\n    background-color: lightgray;\n"]);return q=function(){return A},A}function Z(){var A=Object(B.a)(["\n    top: 0;\n    right: 0;\n    position: absolute;\n    display: flex;\n    flex-direction: column;\n"]);return Z=function(){return A},A}function J(){var A=Object(B.a)(["\n    width: 100%;\n    height: 100%;\n    touch-action: none;\n"]);return J=function(){return A},A}function Y(){var A=Object(B.a)(["\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n"]);return Y=function(){return A},A}var F,z,X,P=h.a.div(Y()),W=h.a.canvas(J()),H=h.a.div(Z()),K=h.a.button(q()),$=h.a.div(L()),_=function(A){function e(){var A,n;Object(l.a)(this,e);for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(n=Object(C.a)(this,(A=Object(Q.a)(e)).call.apply(A,[this].concat(a)))).objectManager=j(),n.state={showSettings:!1,settings:{tacticalOverlay:!0},babylon:{scene:null,nextFrames:[],callstack:[],objectManager:{}}},n}return Object(g.a)(e,A),Object(u.a)(e,[{key:"move",value:function(A){this.babylon.callstack.push(function(){return A()})}},{key:"componentDidMount",value:function(){var A=this;z=document.getElementById("renderCanvas");var e=new b.Engine(z,!0,{preserveDrawingBuffer:!0,stencil:!0});!function(){var n=new b.Scene(e);(F=function(A,e){var n=new b.ArcRotateCamera("ArcRotateCamera",-Math.PI/2,Math.PI/2,100,e,A);return n.inertia=0,n.lowerRadiusLimit=10,n.upperRadiusLimit=5e3,document.addEventListener("mousewheel",function(A){var e=n.radius+A.deltaY/5;n.lowerRadiusLimit<=e&&n.upperRadiusLimit>=e&&(n.radius=e)}),n}(n)).attachControl(z,!1),function(A){var e=new b.HemisphericLight("HemiLight",new b.Vector3(0,1,0),A);e.diffuse=new b.Color3(.5,.5,.5)}(n),A.setState({babylon:Object(m.a)({},A.state.babylon,{scene:n})})}(),e.runRenderLoop(function(){if(A.state.babylon.nextFrames.length&&A.state.babylon.nextFrames.splice(0,1).forEach(function(A){A.forEach(function(A){A.mesh.position.x=A.x,A.mesh.position.y=A.y,A.mesh.position.z=A.z})}),!A.state.babylon.nextFrames.length&&A.state.babylon.callstack.length){var e,n=A.state.babylon.callstack.splice(0,1)[0]();if(n&&n.length)(e=A.state.babylon.nextFrames).push.apply(e,Object(M.a)(function(A){for(var e=[],n=Math.max.apply(Math,Object(M.a)(A.map(function(A){return A.length}))),t=0;t<n;)e.push(k(A,t)),t++;return e}(n)))}A.state.babylon.scene.render()}),X=function(){e.resize()},window.addEventListener("resize",X)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",X)}},{key:"render",value:function(){var A=this;return a.a.createElement(P,null,a.a.createElement(W,{id:"renderCanvas"}),a.a.createElement(H,null,a.a.createElement(K,{onClick:function(){return A.setState({showSettings:!A.state.showSettings})}},"Settings"),this.state.showSettings&&a.a.createElement($,null,a.a.createElement("button",{onClick:function(){F.attachControl(z,!0)}},"Attach VR")),this.state.babylon.scene&&a.a.createElement(V,{babylon:this.state.babylon}),this.state.babylon.scene&&this.state.settings.tacticalOverlay&&a.a.createElement(T,{babylon:this.state.babylon})))}}]),e}(a.a.Component),AA=a.a.createElement(c.a,null,a.a.createElement(s.a,{path:"/game",component:_}),a.a.createElement(s.a,{path:"/",component:w})),eA=function(){return a.a.createElement(i.a,{basename:"/SpaceRTS"},a.a.createElement("div",{style:{height:"100%"}},AA))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(eA,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(A){A.unregister()})}},[[30,2,1]]]);
//# sourceMappingURL=main.307d84f7.chunk.js.map